alertify.set("notifier", "position", "top-right");
var langUrl = "//cdn.datatables.net/plug-ins/1.10.13/i18n/English.json";
if (Languege == "de") {
    var langUrl = "//cdn.datatables.net/plug-ins/1.10.13/i18n/German.json"
}
if (Languege == "gr") {
    var langUrl = "//cdn.datatables.net/plug-ins/1.10.13/i18n/Greek.json"
}
if (Languege == "it") {
    var langUrl = "//cdn.datatables.net/plug-ins/1.10.13/i18n/Italian.json"
}
if (Languege == "al") {
    var langUrl = "//cdn.datatables.net/plug-ins/1.10.13/i18n/Albanian.json"
}
if (Languege == "ru") {
    var langUrl = "//cdn.datatables.net/plug-ins/1.10.13/i18n/Russian.json"
}
if (Languege == "es") {
    var langUrl = "//cdn.datatables.net/plug-ins/1.10.13/i18n/Spanish.json"
}
if (sessionStorage["@#vcxVdsfd1234!@#12fsd"] == "1") {
    window.history.forward();
    window.stop()
}
$.fn.dataTable.ext.errMode = "none";
alertify.set("notifier", "position", "top-right");
$(document).ready(function() {
    $("#uppassword").click(function() {
        var c = $("#password").val();
        var e = $("#newpassword").val();
        var a = $("#confirmpassword").val();
        var b = $("#updatepassword").attr("action");
        var d = {
            password: c,
            newpassword: e
        };
        if (c.length == 0) {
            $(".passworddiv").addClass("has-warning");
            alertify.error(msg01)
        }
        if (e.length <= 4) {
            $(".confirmpassworddiv").addClass("has-warning");
            $(".newpassworddiv").addClass("has-warning");
            alertify.error(msg01)
        }
        if (c.length > 0) {
            if (e.length > 4) {
                if (e == a) {
                    $(".confirmpassworddiv").removeClass("has-warning");
                    $(".newpassworddiv").removeClass("has-warning");
                    $(".passworddiv").removeClass("has-warning");
                    $(".newpassworddiv").addClass("has-success");
                    $(".confirmpassworddiv").addClass("has-success");
                    $(".passworddiv").addClass("has-success");
                    $.ajax({
                        type: "POST",
                        url: b,
                        data: d,
                        headers: {
                            "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
                        },
                        success: function(f) {
                            if (f.msg == "success") {
                                alertify.success(msg02)
                            }
                            if (f.msg == "error") {
                                alertify.error(msg01)
                            }
                        }
                    })
                } else {
                    $(".confirmpassworddiv").addClass("has-warning");
                    $(".newpassworddiv").addClass("has-warning");
                    alertify.error(msg01)
                }
            }
        }
    })
});
$(document).ready(function() {
    $("#updatetimezone").click(function() {
        var a = $("#updatetimezoneform").attr("action");
        var b = $("#timezone").val();
        var c = {
            timezone: b
        };
        $.ajax({
            type: "POST",
            data: c,
            url: a,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            },
            success: function(d) {
                if (d.msg == "success") {
                    alertify.success(msg02)
                }
                if (d.msg == "error") {
                    alertify.error(msg01)
                }
            }
        })
    })
});
// ShopCredit();

function ShopCredit() {
    var a = $("#footeCredit").attr("action");
    $.ajax({
        type: "POST",
        url: a,
        async: true,
        headers: {
            "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
        },
        success: function(b) {
            $("#FCredit").text(b.credit);
            $("#FBalance").text(b.balance);
            $("#FIn").text(b.c_in);
            $("#FOut").text(b.c_out);
            $("#FTotal").text(b.total);
            $("#FBonus").text(b.bonus);
            $("#FLimit").text(b.limit);
            $("#FCredit").text(b.score);
            $("#Ffree").text(b.free);
            $("#FDik").text(b.dik);
            $("#FBalanceTotal").text(b.balanceTotal);
            $("#PokerCreditP").text(b.score_poker);
            if (b.msg == "success") {
                alertify.success(msg02)
            }
            if (b.msg == "error") {
                alertify.error(msg01)
            }
        }
    })
}
refreshlogdiv();

function refreshlogdiv() {
    // $("#logdiv").load(appURL + "/api/shop/v9/v1/transactions.php?key=" + userHash + "&shopID=" + shopID + "&timezone=" + timezone, function() {})
}

function setCookie(d, a) {
    var c = new Date();
    var b = new Date(c.setTime(c.getTime() + 60 * 60 * 10000000));
    document.cookie = d + "=" + a + ";path=/;expires=" + b.toGMTString() + ";"
}
$(document).ready(function() {
    $("#hideStats").click(function() {
        setCookie("logs", 1);
        $("#cashinmaindiv").attr("class", "col-sm-12 mainTable");
        $("#logdiv").hide();
        $("#hidestats").hide();
        $("#showstats").show()
    })
});
$(document).ready(function() {
    $("#ShowStats").click(function() {
        setCookie("logs", 0);
        $("#cashinmaindiv").attr("class", "col-sm-9 mainTable");
        $("#logdiv").show();
        $("#showstats").hide();
        $("#hidestats").show()
    })
});
$("#hidefooter").click(function() {
    console.log('!!!!');
    setCookie("footer", 0);
    $("#footerHide").hide();
    $("#hidefooter").hide();
    $("#showfooter").show();
    $("#maintabledivH").css("height", "calc(100% - 53px)")
});
if (Vfooter) {
    $("#maintabledivH").css("height", "calc(100% - 53px)")
}
$("#showfooter").click(function() {
    setCookie("footer", 1);
    $("#footerHide").show();
    $("#hidefooter").show();
    $("#showfooter").hide();
    $("#maintabledivH").css("height", "calc(100% - 103px)")
})
$(document).ready(function() {
});
$(document).ready(function() {
});
$(document).ready(function() {
    if ($.cookie("footer") == 0) {
        $("#maintabledivH").css("height", "calc(100% - 53px)")
    }
});
if (HomeUrl) {
    RefreshUsersTable();

    function RefreshUsersTable() {
        if (CountUsers < 30) {
            setTimeout(RefreshUsersTable, 8000)
        } else {
            setTimeout(RefreshUsersTable, 60000)
        }
        tableRefresh()
    }

    function toggle(a) {
        tableRefresh()
    }

    function tableRefresh() {
        // search = document.getElementById("search").value;
        // $("#loadtable").load(appURL + "/api/shop/v9/v1/usertable.php?shopID=" + shopID + "&userhash=" + userHash + "&currency=" + currency + "&timezone=" + timezone + "&search=" + search + "&alarm=" + alarm + "&edituser=" + edituser + "&allowinout=" + allowinout + "&vlt=" + vlt + "&bonus=" + bonus + "&dik=" + Vbonus + "&diktime=" + VbonusTime + "&lang=" + language, function() {})
    }
}
if (!!$.cookie("logs")) {} else {
    setCookie("logs", 1)
}

function shortUsers(b, d, c, a) {
    url = $("#shortusers").attr("action");
    $.ajax({
        url: url,
        type: "POST",
        headers: {
            "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
        },
        data: {
            userID: b,
            upuser: d,
            downuser: c,
            up: a
        }
    });
    setTimeout(function() {
        tableRefresh();
        alertify.success(msg02)
    }, 100)
}
var checker = false;
$("#in").on("show.bs.modal", function(d) {
    checker = true;
    enableSimpleIn();
    $("#inamount").val(0);
    $("#inamount").css("background-color", "black");
    $("#free").prop("checked", false);
    var b = $(d.relatedTarget).data("name-id");
    var c = $(d.relatedTarget).data("score-id");
    var a = $(d.relatedTarget).data("player-id");
    $(d.currentTarget).find('input[name="name"]').val(b);
    $(d.currentTarget).find('input[name="score"]').val(c);
    $("#PlayerID").val(a);
    $("#scoreIN").val(0)
});
$("#in5").click(function() {
    var b = parseInt($("#in5").val());
    var a = parseInt($("#inamount").val());
    $("#inamount").val(a + b);
    $("#scoreIN").val(a + b);
    changeFlagOnHiddenInput(1)
})
$("#in10").click(function() {
    var b = parseInt($("#in10").val());
    var a = parseInt($("#inamount").val());
    $("#inamount").val(a + b);
    $("#scoreIN").val(a + b);
    changeFlagOnHiddenInput(1)
})
$("#in20").click(function() {
    var b = parseInt($("#in20").val());
    var a = parseInt($("#inamount").val());
    $("#inamount").val(a + b);
    $("#scoreIN").val(a + b);
    changeFlagOnHiddenInput(1)
})
$("#in50").click(function() {
    var b = parseInt($("#in50").val());
    var a = parseInt($("#inamount").val());
    $("#inamount").val(a + b);
    $("#scoreIN").val(a + b);
    changeFlagOnHiddenInput(1)
})
$("#in100").click(function() {
    var b = parseInt($("#in100").val());
    var a = parseInt($("#inamount").val());
    $("#inamount").val(a + b);
    $("#scoreIN").val(a + b);
    changeFlagOnHiddenInput(1)
})
$(document).ready(function() {
});
$(document).ready(function() {
});
$(document).ready(function() {
});
$(document).ready(function() {
});
$(document).ready(function() {
});
$(document).ready(function() {
    $("#dikin5").click(function() {
        var b = parseInt($("#dikin5").val());
        var a = parseInt($("#inamount").val());
        $("#inamount").val(b + " + " + b);
        $("#inamount").css("background-color", "red");
        $("#inamount").css("color", "white");
        $("#scoreIN").val(b);
        changeFlagOnHiddenInput(2);
        disableSimpleIn()
    })
});
$(document).ready(function() {
    $("#dikin10").click(function() {
        var b = parseInt($("#dikin10").val());
        var a = parseInt($("#inamount").val());
        $("#inamount").val(b + " + " + b);
        $("#inamount").css("background-color", "red");
        $("#inamount").css("color", "white");
        $("#scoreIN").val(b);
        changeFlagOnHiddenInput(2);
        disableSimpleIn()
    })
});
$(document).ready(function() {
    $("#dikin20").click(function() {
        var b = parseInt($("#dikin20").val());
        var a = parseInt($("#inamount").val());
        $("#inamount").val(b + " + " + b);
        $("#inamount").css("background-color", "red");
        $("#inamount").css("color", "white");
        $("#scoreIN").val(b);
        changeFlagOnHiddenInput(2);
        disableSimpleIn()
    })
});
$(document).ready(function() {
    $("#dikin50").click(function() {
        var b = parseInt($("#dikin50").val());
        var a = parseInt($("#inamount").val());
        $("#inamount").val(b + " + " + b);
        $("#inamount").css("background-color", "red");
        $("#inamount").css("color", "white");
        $("#scoreIN").val(b);
        changeFlagOnHiddenInput(2);
        disableSimpleIn()
    })
});
$(document).ready(function() {
    $("#dikin100").click(function() {
        var b = parseInt($("#dikin100").val());
        var a = parseInt($("#inamount").val());
        $("#inamount").val(b + " + " + b);
        $("#inamount").css("background-color", "red");
        $("#inamount").css("color", "white");
        $("#scoreIN").val(b);
        changeFlagOnHiddenInput(2);
        disableSimpleIn()
    })
});

function disableSimpleOut() {
    $("#out5").prop("disabled", true);
    $("#out10").prop("disabled", true);
    $("#out20").prop("disabled", true);
    $("#out50").prop("disabled", true);
    $("#out100").prop("disabled", true)
}

function disableSimpleIn() {
    $("#in5").prop("disabled", true);
    $("#in10").prop("disabled", true);
    $("#in20").prop("disabled", true);
    $("#in50").prop("disabled", true);
    $("#in100").prop("disabled", true);
    if (free == 1) {
        document.getElementById("free").disabled = true
    }
}

function enableSimpleIn() {
    $("#in5").prop("disabled", false);
    $("#in10").prop("disabled", false);
    $("#in20").prop("disabled", false);
    $("#in50").prop("disabled", false);
    $("#in100").prop("disabled", false);
    if (free == 1) {
        document.getElementById("free").disabled = false
    }
}

function changeFlagOnHiddenInput(a) {
    document.getElementById("dik").value = a
}
$("#in").on("shown.bs.modal", function() {
    $("#passwordIn").val("")
});
$("#out").on("shown.bs.modal", function() {
    $("#passwordOut").val("")
});
alertify.defaults.glossary.title = "GGinc";
$("#inButton").click(function() {
    $(".ajs-cancel").css("display:none;");
    showLoading("#pleaseWait");
    $("#in").modal("hide");
    var c = $("#inForm").attr("action");
    var f = $("#scoreIN").val();
    var g = $("#dik").val();
    var b = $("#PlayerID").val();
    var e = $("#free:checked").val();
    var a = null;
    if (e === undefined) {
        e = 0
    } else {
        e = 1
    }
    if (CashierPasswordForInOut == 1) {
        var a = $("#passwordIn").val()
    }
    var d = {
        summ: f,
        free: e,
        dik: g,
        user_id: b,
        password: a,
        type: "add",
        cashier: "cashier"
    };
    if (checker) {
        checker = false;
        $.ajax({
            type: "POST",
            data: d,
            url: c,
            headers: {
                "X-CSRF-TOKEN": $('#_token').val()
            },
            success: function(j) {

                location.reload()
                if (j.status == "success") {
                    alertify.success(msg02);
                    hideLoading("#pleaseWait");
                    tableRefresh();
                    ShopCredit();
                    refreshlogdiv();
                    if (currency == "CREDITS") {
                        var h = f * 10000;
                        var k = f
                    } else {
                        var h = f * 100;
                        var i = parseInt(f);
                        var k = i.toFixed(2)
                    }
                    if (PrintTicket == 1) {
                        $("#printmodal").modal("show");
                        $("#TerminaIDForPrinting").text(b);
                        $("#TerminaIDForPrinting2").text(b);
                        $("#printScore").text(f)
                    } else {
                        if (g == 2) {
                            alertify.confirm('<span style="font-size: 30px;">' + k + "+" + k + " </span>", function() {}).autoOk(5)
                        } else {
                            alertify.confirm('<span style="font-size: 30px;">+' + k + " </span>").autoOk(5)
                        }
                    }
                }
                if (j.status == "error") {
                    alertify.alert("GGinc", j.msg);
                    alertify.error(j.msg);
                    refreshlogdiv();
                    hideLoading("#pleaseWait")
                }
            },
            error: function(d){
                location.reload();
            }
        })
    }
})
$(document).ready(function() {
});
$(document).ready(function() {
    $("#PrintButonClose").click(function() {
        $("#printmodal").modal("hide")
    })
});
$("#PrintButton").click(function() {
    printElement(document.getElementById("printableDiv"));
    window.print();
    $("#printmodal").modal("hide")
});

function printElement(d, a, c) {
    var e = d.cloneNode(true);
    var b = document.getElementById("printSection");
    if (!b) {
        var b = document.createElement("div");
        b.id = "printSection";
        document.body.appendChild(b)
    }
    if (a !== true) {
        b.innerHTML = ""
    } else {
        if (a === true) {
            if (typeof(c) === "string") {
                b.innerHTML += c
            } else {
                if (typeof(c) === "object") {
                    b.appendChlid(c)
                }
            }
        }
    }
    b.appendChild(e)
}
$("#out").on("show.bs.modal", function(d) {
    enableSimpleIn();
    $("#scoreOUT").val(0);
    $("#outamount").val(0);
    $("#outamount").css("background-color", "black");
    $("#free").prop("checked", false);
    var b = $(d.relatedTarget).data("name-id");
    var c = $(d.relatedTarget).data("score-id");
    var a = $(d.relatedTarget).data("player-id");
    $(d.currentTarget).find('input[name="nameOUT"]').val(b);
    $(d.currentTarget).find('input[name="scoreOUT"]').val(c);
    $(d.currentTarget).find('input[name="keepScoreForOutAll"]').val(c);
    $("#PlayerOUT").val(a);
    $("#scoreOUT").val(0)
});
$(document).ready(function() {
});
$("#outALL").click(function() {
    var a = $("#keepScoreForOutAll").val();
    $("#outamount").val(a);
    $("#scoreOUT").val(a);
    $("#outamount").css("background-color", "green");
    $("#outamount").css("color", "white")
})
$("#out5").click(function() {
    var b = Math.abs($("#out5").val());
    var a = Math.abs($("#outamount").val());
    $("#outamount").val(a + b);
    $("#outamount").css("background-color", "green");
    $("#outamount").css("color", "white");
    $("#scoreOUT").val(a + b)
})
$("#out10").click(function() {
    var b = Math.abs($("#out10").val());
    var a = Math.abs($("#outamount").val());
    $("#outamount").val(a + b);
    $("#outamount").css("background-color", "green");
    $("#outamount").css("color", "white");
    $("#scoreOUT").val(a + b)
})
$("#out20").click(function() {
    var b = Math.abs($("#out20").val());
    var a = Math.abs($("#outamount").val());
    $("#outamount").val(a + b);
    $("#outamount").css("background-color", "green");
    $("#outamount").css("color", "white");
    $("#scoreOUT").val(a + b)
})
$("#out50").click(function() {
    var b = Math.abs($("#out50").val());
    var a = Math.abs($("#outamount").val());
    $("#outamount").val(a + b);
    $("#outamount").css("background-color", "green");
    $("#outamount").css("color", "white");
    $("#scoreOUT").val(a + b)
})
$("#out100").click(function() {
    var b = Math.abs($("#out100").val());
    var a = Math.abs($("#outamount").val());
    $("#outamount").val(a + b);
    $("#outamount").css("background-color", "green");
    $("#outamount").css("color", "white");
    $("#scoreOUT").val(a + b)
})
$(document).ready(function() {
});
$(document).ready(function() {
});
$(document).ready(function() {
});
$(document).ready(function() {
});
$(document).ready(function() {
});
var outAllFalg = 0;
$(document).ready(function() {
});
$("#outALL").click(function() {
    outAllFalg = 1
})
$("#OutButton").click(function() {
    showLoading("#pleaseWait");
    $("#out").modal("hide");
    var c = $("#outForm").attr("action");
    var e = $("#scoreOUT").val();
    var b = $("#PlayerOUT").val();
    var a = null;
    if (CashierPasswordForInOut == 1) {
        var a = $("#passwordOut").val()
    }
    var d = {
        summ: e,
        user_id: b,
        password: a,
        type: "out",
        all: outAllFalg,
        cashier: 'cashier'
    };
    $.ajax({
        type: "POST",
        data: d,
        url: c,
        headers: {
            "X-CSRF-TOKEN": $('#_token').val()
        },
        success: function(f) {
            location.reload()
            if (f.status == "success") {
                alertify.success(msg02);
                hideLoading("#pleaseWait");
                tableRefresh();
                ShopCredit();
                refreshlogdiv();
                outAllFalg = false;
                alertify.confirm('<span style="font-size: 30px;">-' + e + " </span>", function() {}).autoOk(5)
            }
            if (f.status == "error") {
                alertify.error(f.msg);
                alertify.alert("GGinc", f.msg);
                refreshlogdiv();
                hideLoading("#pleaseWait");
                outAllFalg = false
            }
        },
        error: function(){
            location.reload()
        }
    })
})
$(document).ready(function() {
});

function showLoading(a) {
    $(a).addClass("show")
}

function hideLoading(a) {
    $(a).removeClass("show")
}
push_socket = null;

function Redirect() {
    window.location = ShopURL
}

function preventBack() {
    window.history.forward()
}
if (ShopAlarmOn) {
    $(document).keyup(function(a) {
        if (a.keyCode == 27) {
            sessionStorage["@#vcxVdsfd1234!@#12fsd"] = "1";
            setTimeout("preventBack()", 0);
            window.onunload = function() {
                null
            };
            $.ajax({
                url: ShopAlarmUrl,
                type: "get",
                success: function(b) {
                    if (b.msg === "success") {
                        console.log("aqa");
                        if (ShopRiderct) {
                            Redirect()
                        } else {
                            window.location = logoutCashierUrl
                        }
                    }
                }
            })
        }
    })
}

function preventBack() {
    window.history.forward()
}

function panic1() {
    sessionStorage["@#vcxVdsfd1234!@#12fsd"] = "1";
    setTimeout("preventBack()", 0);
    window.onunload = function() {
        null
    };
    $.ajax({
        url: ShopAlarmUrl,
        type: "get",
        success: function(a) {
            if (a.msg === "success") {
                setTimeout(function() {
                    if (ShopRiderct) {
                        Redirect()
                    } else {
                        window.location = logoutCashierUrl
                    }
                }, 1000)
            }
        }
    })
}
$(document).ready(function() {
    $("#panicButton").click(function() {
        sessionStorage["@#vcxVdsfd1234!@#12fsd"] = "1";
        $.ajax({
            url: ShopAlarmUrl,
            type: "get",
            success: function(a) {
                if (a.msg === "success") {
                    setTimeout(function() {
                        if (ShopRiderct) {
                            Redirect()
                        } else {
                            window.location = logoutCashierUrl
                        }
                    }, 1000)
                }
            }
        })
    })
});
$(document).ready(function() {
    $("#DisableButton").click(function() {
        showLoading("#pleaseWait");
        $.ajax({
            url: DisableUsersUrl,
            type: "get",
            success: function(a) {
                if (a.status === "success") {
                    alertify.success(a.msg);
                    refreshlogdiv();
                    tableRefresh();
                    hideLoading("#pleaseWait")
                }
            }
        })
    })
});

function alarmOn(b, a, c) {
    if (a == 1) {
        a = 'Banned'
    } else {
        a = 'Active'
    }
    $.ajax({
        url: AlrmUserUrl.replace("123456", b),
        data: {
            playerid: b,
            status: a,
            username: c,
            cashier: 'cashier'
        },
        headers:{
            "X-CSRF-TOKEN": $('#_token').val()
        },
        type: "put",
        success: function(c) {
            location.reload();
            if (c.status === "success") {
                alertify.success(c.msg);
                refreshlogdiv();
                hideLoading("#pleaseWait")
            }
        },
        error: function(){
            location.reload();
        }
    });
    setTimeout(function() {
        tableRefresh(false);
        refreshlogdiv(false)
    }, 300)
}
$("#playerProfile").on("show.bs.modal", function(c) {
    var b = $(c.relatedTarget).data("name");
    var a = $(c.relatedTarget).data("id");
    $(c.currentTarget).find('input[name="PlayerProfileName"]').val(b);
    $("#PlayerProfileID").val(a)
});
$("#SavePlayerProfile").click(function() {
    showLoading("#pleaseWait");
    var c = $("#PlayerProfileForm").attr("action");
    var b = $("#PlayerProfileID").val();
    var a = $("#PlayerProfileName").val();
    var d = $("#PlayerProfilePassword").val();
    var e = {
        playerid: b,
        password: d,
        password_confirmation: d,
        language: "en",
        username: a,
        cashier: "cashier"
    };
    if (d.length < 5) {
        alertify.alert("GGinc", msg09);
        hideLoading("#pleaseWait")
    } else {
        $.ajax({
            type: "PUT",
            data: e,
            url: c.replace("123456", b),
            headers: {
                "X-CSRF-TOKEN": $('#_token').val()
            },
            success: function(f) {
                location.reload()
                if (f.status == "success") {
                    alertify.success(f.msg);
                    hideLoading("#pleaseWait");
                    refreshlogdiv();
                    tableRefresh();
                    $("#playerProfile").modal("hide")
                }
                if (f.status == "error") {
                    alertify.error(msg01);
                    $("#playerProfile").modal("hide");
                    hideLoading("#pleaseWait");
                    refreshlogdiv()
                }
            }
        })
    }
})
$(document).ready(function() {
});
$("#DeletePlayer").click(function() {
    var a = $("#PlayerProfileID").val();
    var b = $("#DeletePlayerFrom").val();
    var c = {
        playerid: a,
        cashier: 'cashier'
    };
    console.log(b.replace("123456", a), a)
    alertify.confirm(msg10, function() {
        showLoading("#pleaseWait");
        $.ajax({
            type: "DELETE",
            data: c,
            url: b.replace("123456", a),
            headers: {
                "X-CSRF-TOKEN": $('#_token').val()
            },
            success: function(d) {
                location.reload();
                if (d.status == "success") {
                    alertify.success(d.msg);
                    hideLoading("#pleaseWait");
                    refreshlogdiv();
                    tableRefresh();
                    $("#playerProfile").modal("hide")
                }
                if (d.status == "error") {
                    alertify.error(msg01);
                    $("#playerProfile").modal("hide");
                    hideLoading("#pleaseWait");
                    refreshlogdiv()
                }
            },
            error: function(d){
                location.reload();
            }
        })
    }, function() {
        alertify.error(msg11);
        $("#playerProfile").modal("hide")
    });
    hideLoading("#pleaseWait")
})
$(document).ready(function() {
});
$(document).ready(function() {
    $("#restartButton").click(function() {
        showLoading("#pleaseWait");
        var a = $("#PlayerProfileID").val();
        var b = $("#restartFrom").attr("action");
        var c = {
            playerid: a
        };
        $.ajax({
            type: "POST",
            data: c,
            url: b,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            },
            success: function(d) {
                if (d.status == "success") {
                    alertify.success(d.msg);
                    hideLoading("#pleaseWait");
                    refreshlogdiv();
                    tableRefresh();
                    $("#playerProfile").modal("hide");
                    if (WS) {
                        sendUserCommand(a, "restart")
                    }
                }
                if (d.status == "error") {
                    alertify.error(msg01);
                    $("#playerProfile").modal("hide");
                    hideLoading("#pleaseWait");
                    refreshlogdiv()
                }
            }
        })
    })
});
$(document).ready(function() {
    $("#shutdownButton").click(function() {
        showLoading("#pleaseWait");
        var a = $("#PlayerProfileID").val();
        var b = $("#shutdownFrom").attr("action");
        var c = {
            playerid: a
        };
        $.ajax({
            type: "POST",
            data: c,
            url: b,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            },
            success: function(d) {
                if (d.status == "success") {
                    alertify.success(d.msg);
                    hideLoading("#pleaseWait");
                    refreshlogdiv();
                    tableRefresh();
                    $("#playerProfile").modal("hide");
                    if (WS) {
                        sendUserCommand(a, "shutdown")
                    }
                }
                if (d.status == "error") {
                    alertify.error(msg01);
                    $("#playerProfile").modal("hide");
                    hideLoading("#pleaseWait");
                    refreshlogdiv()
                }
            }
        })
    })
});

function sendUserCommand(b, c) {
    if (push_socket == null) {
        return
    }
    var a = "";
    switch (c) {
        case "shutdown":
            a = "Shutdown";
            break;
        case "restart":
            a = "Restart";
            break
    }
    push_socket.send("A/u984," + b + "," + c)
}
$(document).ready(function() {
    $("#clearlogs").click(function() {
        alertify.confirm("GGinc", msg12, function() {
            var a = $("#clearLogsForm").attr("action");
            showLoading("#pleaseWait");
            $.ajax({
                type: "POST",
                url: a,
                headers: {
                    "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
                },
                success: function(b) {
                    if (b.status == "success") {
                        alertify.success(b.msg);
                        hideLoading("#pleaseWait");
                        refreshlogdiv()
                    }
                    if (b.status == "error") {
                        alertify.error(msg01);
                        hideLoading("#pleaseWait");
                        refreshlogdiv()
                    }
                }
            })
        }, function() {
            alertify.error(msg11)
        })
    })
});
$("#navnewplayer").click(function() {
    $("#successEmail").hide();
    $("#errorEmail").hide();
    $("#newplayerWarning").show();
    $("#username").val("");
    $("#password").val("");
    $("#newPlayer").prop("disabled", false);
    if (AccountLimits == 0) {
        alertify.alert("GGinc", msg13)
    } else {
        $("#newplayer").modal("show")
    }
})
$(document).ready(function() {
});

function CheckEmail() {
    var b = $("#checkEmail").attr("action");
    var a = $("#username").val();
    var c = {
        email: a
    };
    $.ajax({
        type: "POST",
        data: c,
        url: b,
        headers: {
            "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
        },
        success: function(d) {
            if (d.status == "success") {
                $("#usernamediv").removeClass("has-error");
                $("#usernamediv").removeClass("has-error");
                $("#usernamediv").addClass("has-success");
                $("#newPlayer").prop("disabled", false);
                $("#errorEmail").hide();
                $("#newplayerWarning").hide();
                $("#successEmail").show()
            }
            if (d.status == "error") {
                $("#usernamediv").removeClass("has-success");
                $("#usernamediv").addClass("has-error");
                $("#newPlayer").prop("disabled", true);
                $("#errorEmail").show();
                $("#newplayerWarning").hide();
                $("#successEmail").hide()
            }
        }
    })
}
$("#newPlayer").click(function() {
    showLoading("#pleaseWait");
    var b = $("#newPlayerForm").attr("action");
    var a = $("#username").val();
    var d = $("#password").val();
    var c = {
        username: a,
        password: d,
        password_confirmation: d,
        balance: 0,
        shop_id: $('#shop_id').val(),
        role_id: 1,
        cashier: 'cashier'
    };
    $.ajax({
        type: "POST",
        data: c,
        url: b,
        headers: {
            "X-CSRF-TOKEN": $('#_token').val()
        },
        success: function(e) {
            location.reload();
            if (e.status == "success") {
                $("#newplayer").modal("hide");
                hideLoading("#pleaseWait");
                refreshlogdiv();
                ShopCredit()
            }
            if (e.status == "error") {
                hideLoading("#pleaseWait");
                $("#newplayer").modal("hide");
                alertify.error(e.msg);
                refreshlogdiv()
            }
        },
        error: function(){
            location.reload();
        }
    })
})
$(document).ready(function() {
});
$(document).ready(function() {
    $("#resetCashnav").click(function() {
        var a = $("#getResetStatsForm").attr("action");
        $.ajax({
            type: "POST",
            url: a,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            },
            success: function(b) {
                $("#resetIN").text(b.c_in);
                $("#resetOUT").text(b.c_out);
                $("#resetSUM").text(b.sum)
            }
        })
    })
});
$(document).ready(function() {
    $("#ResetCashButton").click(function() {
        showLoading("#pleaseWait");
        var a = $("#resetFormCashModal").attr("action");
        $.ajax({
            type: "POST",
            url: a,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            },
            success: function(b) {
                if (b.status == "success") {
                    alertify.success(b.msg);
                    $("#resetmodal").modal("hide");
                    hideLoading("#pleaseWait");
                    refreshlogdiv();
                    ShopCredit()
                } else {
                    $("#resetmodal").modal("hide");
                    alertify.error(b.msg)
                }
            }
        })
    })
});
$(document).ready(function() {
    $("#setpinButton").click(function() {
        showLoading("#pleaseWait");
        var b = $("#setPinForm").attr("action");
        var a = $("#pinmodal").val();
        var c = {
            pin: a
        };
        if (!a.match(/^\d+$/)) {
            alertify.error(msg15);
            hideLoading("#pleaseWait")
        } else {
            if (!a) {
                $("#pinSudiv").addClass("has-error");
                alertify.error(msg14);
                hideLoading("#pleaseWait")
            } else {
                $.ajax({
                    type: "POST",
                    url: b,
                    data: c,
                    headers: {
                        "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
                    },
                    success: function(d) {
                        if (d.status == "success") {
                            alertify.success(d.msg);
                            $("#setpinForm").modal("hide");
                            hideLoading("#pleaseWait");
                            location.reload()
                        } else {
                            alertify.error(d.msg)
                        }
                    }
                })
            }
        }
    })
});
$(document).ready(function() {
    $("#hideProtection").click(function() {
        $("div#hidepin").hide("slow")
    })
});
$("#date_start").datetimepicker({
    dateFormat: "yy-mm-dd",
    timeFormat: "HH:mm:ss",
    showSecond: true,
    changeMonth: true,
    changeYear: true,
    showButtonPanel: true,
    timepicker: false,
    onSelect: function(d, c) {
        var b = $("#date_start").datetimepicker("getDate");
        if (b != null) {
            var a = $("#date_end").val();
            $("#date_end").datetimepicker("option", "minDate", b);
            $("#date_end").datetimepicker("option", "minDateTime", b);
            $("#date_end").val(a)
        }
    }
});
$("#date_end").datetimepicker({
    dateFormat: "yy-mm-dd",
    timeFormat: "HH:mm:ss",
    showSecond: true,
    changeMonth: true,
    changeYear: true,
    showButtonPanel: true,
    timepicker: false,
    onSelect: function(d, c) {
        var b = $("#date_start").datetimepicker("getDate");
        if (b != null) {
            var a = $("#date_end").val();
            $("#date_end").datetimepicker("option", "minDate", b);
            $("#date_end").datetimepicker("option", "minDateTime", b);
            $("#date_end").val(a)
        }
    }
});
var FromData = null;
var ToData = null;
$("#cashtable").data("dt_params", {
    from: FromData,
    to: ToData,
    param: 1
});
$(document).ready(function() {
    $("#setdata").click(function() {
        showLoading("#pleaseWait");
        var b = $("#date_start").val();
        var a = $("#date_end").val();
        $("#cashtable").data("dt_params", {
            from: b,
            to: a,
            param: 1
        });
        $("#cashtable").DataTable().draw()
    })
});
jQuery.fn.dataTable.Api.register("sum()", function() {
    return this.flatten().reduce(function(d, c) {
        if (typeof d === "string") {
            d = d.replace(/[^\d.-]/g, "") * 1
        }
        if (typeof c === "string") {
            c = c.replace(/[^\d.-]/g, "") * 1
        }
        return d + c
    }, 0)
});
$(document).ready(function() {
    $("#todayCash").click(function() {
        showLoading("#pleaseWait");
        $("#cashtable").data("dt_params", {
            from: 1,
            to: 1,
            param: "today"
        });
        $("#cashtable").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#yestardayCash").click(function() {
        showLoading("#pleaseWait");
        $("#cashtable").data("dt_params", {
            from: 1,
            to: 1,
            param: "yestardayCash"
        });
        $("#cashtable").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#thisWeekCash").click(function() {
        showLoading("#pleaseWait");
        $("#cashtable").data("dt_params", {
            from: 1,
            to: 1,
            param: "thisWeekCash"
        });
        $("#cashtable").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#thisMonthCash").click(function() {
        showLoading("#pleaseWait");
        $("#cashtable").data("dt_params", {
            from: 1,
            to: 1,
            param: "thisMonthCash"
        });
        $("#cashtable").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#lastMonthCash").click(function() {
        showLoading("#pleaseWait");
        $("#cashtable").data("dt_params", {
            from: 1,
            to: 1,
            param: "lastMonthCash"
        });
        $("#cashtable").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#thisyearCash").click(function() {
        showLoading("#pleaseWait");
        $("#cashtable").data("dt_params", {
            from: 1,
            to: 1,
            param: "thisyearCash"
        });
        $("#cashtable").DataTable().draw()
    })
});
var classTdBonus = "";
if (Vbonus == 0) {
    classTdBonus = " dtbonus"
}
$(document).ready(function() {
    var a = $("#cashUrl").attr("action");
    var b = $("#cashtable").DataTable({
        dom: "lfrtBip,",
        lengthChange: false,
        bLengthChange: false,
        bPaginate: false,
        autoWidth: false,
        bSortable: false,
        buttons: ["copy", "csv", "excel", "pdf", "print", "colvis"],
        columns: [{
            data: "email",
            className: "text-center",
            searchable: true
        }, {
            data: "in",
            className: "text-center",
            searchable: false
        }, {
            data: "out",
            className: "text-center",
            searchable: false
        }, {
            data: "bonus",
            className: "text-center" + classTdBonus,
            searchable: false
        }, {
            data: "sum",
            className: "text-center",
            searchable: false
        }],
        language: {
            decimal: "",
            emptyTable: emptyTable,
            info: info,
            infoEmpty: infoEmpty,
            infoFiltered: infoFiltered,
            infoPostFix: "",
            thousands: ",",
            lengthMenu: lengthMenu,
            loadingRecords: loadingRecords,
            processing: processing,
            search: vsearch,
            zeroRecords: zeroRecords,
            paginate: {
                first: first,
                last: vlast,
                next: vnext,
                previous: previous
            },
            aria: {
                sortAscending: ": " + sortAscending,
                sortDescending: ": " + sortDescending
            }
        },
        pagingType: "full_numbers",
        processing: true,
        serverSide: true,
        responsive: true,
        iDisplayLength: 500,
        ajax: {
            type: "POST",
            url: a,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            },
            data: function(e) {
                e.supersearch = $(".datefilter").val();
                var c = $("#cashtable").data("dt_params");
                if (c) {
                    $.extend(e, c)
                }
            },
            statusCode: {
                429: function(c) {
                    alertify.error("To many request!");
                    hideLoading("#pleaseWait")
                }
            }
        },
        drawCallback: function() {
            var e = this.api();
            var h = null;
            var d = e.column(1).data().sum();
            var g = e.column(2).data().sum();
            var h = e.column(3).data().sum();
            var c = e.column(4).data().sum();
            var f = 2;
            if (currency == "CREDITS") {
                f = 0
            }
            $(e.column(1).footer()).html(Number(d).toFixed(f));
            $(e.column(2).footer()).html(Number(g).toFixed(f));
            $(e.column(3).footer()).html(Number(h).toFixed(f));
            $(e.column(4).footer()).html(Number(c).toFixed(f));
            hideLoading("#pleaseWait")
        }
    })
});
$(document).ready(function() {
    $("#changepin").click(function() {
        $("#changepinModal").modal("show")
    })
});
$(document).ready(function() {
    $("#savenewpin").click(function() {
        var c = $("#changepinformAction").attr("action");
        var a = $("#oldpin").val();
        var b = $("#newpin").val();
        var d = {
            oldpin: a,
            newpin: b
        };
        $.ajax({
            type: "POST",
            url: c,
            data: d,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            },
            success: function(e) {
                if (e.status == "success") {
                    alertify.success(e.msg);
                    $("#changepinModal").modal("hide");
                    hideLoading("#pleaseWait")
                } else {
                    alertify.error(e.msg);
                    hideLoading("#pleaseWait")
                }
            }
        })
    })
});
var hidePinDiv = true;
$(document).ready(function() {
    $("#stopHide").click(function() {
        hidePinDiv = false;
        $("#timer").hide()
    })
});
$(document).ready(function() {
    $("#protectthisarea").click(function() {
        hidePinDiv = false;
        $("#timer").hide()
    })
});

function timer(c, e, a) {
    var d = new Date().getTime();
    var b = setInterval(function() {
        var f = c - (new Date().getTime() - d);
        if (f <= 0) {
            clearInterval(b);
            a()
        } else {
            e(Math.floor(f / 1000))
        }
    }, 100)
}
if (showTimer) {
    timer(10000, function(a) {
        document.getElementById("timer").innerHTML = a + " second(s)"
    }, function() {
        if (hidePinDiv) {
            $("div#hidepin").hide("slow")
        }
    })
}
$("body").scrollTop(1);
$(document).on("click", ".changeplayername", function() {
    var a = $(this).data("id");
    var b = $(this).data("name");
    $("#inputplayername").val(b);
    $("#userIDChangeName").val(a)
});
$(document).ready(function() {
    $("#SaveUserName").click(function() {
        var b = $("#changePCNameForm").attr("action");
        var a = $("#userIDChangeName").val();
        var d = $("#inputplayername").val();
        var c = {
            userName: d,
            userID: a
        };
        $.ajax({
            type: "POST",
            url: b,
            data: c,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            },
            success: function(e) {
                if (e.status == "success") {
                    alertify.success(e.msg);
                    $("#ChangeNameModal").modal("hide");
                    hideLoading("#pleaseWait");
                    refreshlogdiv();
                    tableRefresh()
                } else {
                    alertify.error(e.msg);
                    hideLoading("#pleaseWait")
                }
            }
        })
    })
});
$(document).ready(function() {
    $("#updateCashierSettingsButton").click(function() {
        var c = $("#printrecipt").is(":checked");
        var d = $("#showfooterProfile").is(":checked");
        var a = $("#updateCashierSettings").attr("action");
        if (c) {
            c = 1
        } else {
            c = 0
        }
        if (d) {
            d = 1
        } else {
            d = 0
        }
        var b = {
            checkbox: c,
            showfooter: d
        };
        $.ajax({
            type: "POST",
            url: a,
            data: b,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            },
            success: function(e) {
                if (e.status == "success") {
                    alertify.success(e.msg)
                } else {
                    alertify.error(e.msg);
                    hideLoading("#pleaseWait")
                }
            }
        })
    })
});
// window.setInterval(function() {
//     checkstatus()
// }, 30000);
// checkstatus();

function checkstatus() {
    var b = $("#checkstatus").attr("action");
    var a = $("#logoutUrl2").attr("action");
    $.ajax({
        type: "POST",
        url: b,
        headers: {
            "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
        },
        success: function(c) {
            if (c.alarm == 2) {
                alertify.confirm('<span style="font-size: 30px;">' + msg16 + " </span>", function() {
                    window.location.replace(a)
                }).autoOk(10);
                setTimeout(function() {
                    window.location.replace(a)
                }, 10000)
            }
            if (c.alarm == 3) {
                alertify.confirm('<span style="font-size: 30px;">' + msg18 + " </span>", function() {
                    window.location.replace(a)
                }).autoOk(10);
                setTimeout(function() {
                    window.location.replace(a)
                }, 10000)
            }
            if (typeof(c.News) != "undefined" && c.News !== null) {
                if (c.News["name"].length) {
                    alertify.alert().setting({
                        message: '<div id="message" class="text-center"><h1>' + c.News["text"] + " </h1></div>"
                    }).show().maximize().setHeader(c.News["title"]).setting({
                        modal: false,
                        closable: false
                    })
                }
            }
        }
    })
}
// window.setInterval(function() {
//     checkTicket()
// }, 300000);

function checkTicket() {
    var a = $("#checkTicket").attr("action");
    $.ajax({
        type: "POST",
        url: a,
        headers: {
            "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
        },
        success: function(b) {
            if (b.reply > 0) {
                $("#ticketStatus").addClass("badge pull-right-xs");
                $("#ticketStatus").text(b.reply)
            }
            if (b.totalTickets >= 5) {
                $("#newticketbutton").hide()
            } else {
                $("#youcantmoretickets").hide()
            }
        }
    })
}
$(document).ready(function() {
    $("#todayCashPoker").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepoker").data("dt_params", {
            from: 1,
            to: 1,
            param: "today"
        });
        $("#cashtablepoker").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#yestardayCashPoker").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepoker").data("dt_params", {
            from: 1,
            to: 1,
            param: "yestardayCash"
        });
        $("#cashtablepoker").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#thisWeekCashPoker").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepoker").data("dt_params", {
            from: 1,
            to: 1,
            param: "thisWeekCash"
        });
        $("#cashtablepoker").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#thisMonthCashPoker").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepoker").data("dt_params", {
            from: 1,
            to: 1,
            param: "thisMonthCash"
        });
        $("#cashtablepoker").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#lastMonthCashPoker").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepoker").data("dt_params", {
            from: 1,
            to: 1,
            param: "lastMonthCash"
        });
        $("#cashtablepoker").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#thisyearCashPoker").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepoker").data("dt_params", {
            from: 1,
            to: 1,
            param: "thisyearCash"
        });
        $("#cashtablepoker").DataTable().draw()
    })
});
$(document).ready(function() {
    var a = $("#cashUrl").attr("action");
    var b = $("#cashtablepoker").DataTable({
        dom: "lfrtBip,",
        searching: false,
        lengthChange: false,
        bLengthChange: false,
        bPaginate: false,
        bFilter: false,
        autoWidth: false,
        bSortable: false,
        buttons: ["copy", "csv", "excel", "pdf", "print", "colvis"],
        columns: [{
            data: "email",
            className: "text-center",
            searchable: false
        }, {
            data: "pokerout",
            className: "text-center",
            searchable: false
        }, {
            data: "pokerin",
            className: "text-center",
            searchable: false
        }, {
            data: "pokersum",
            className: "text-center",
            searchable: false
        }],
        language: {
            decimal: "",
            emptyTable: emptyTable,
            info: info,
            infoEmpty: infoEmpty,
            infoFiltered: infoFiltered,
            infoPostFix: "",
            thousands: ",",
            lengthMenu: lengthMenu,
            loadingRecords: loadingRecords,
            processing: processing,
            search: vsearch,
            zeroRecords: zeroRecords,
            paginate: {
                first: first,
                last: vlast,
                next: vnext,
                previous: previous
            },
            aria: {
                sortAscending: ": " + sortAscending,
                sortDescending: ": " + sortDescending
            }
        },
        pagingType: "full_numbers",
        processing: true,
        serverSide: true,
        responsive: true,
        iDisplayLength: 500,
        drawCallback: function() {
            var d = this.api();
            var g = null;
            var c = d.column(1).data().sum();
            var f = d.column(2).data().sum();
            var g = d.column(3).data().sum();
            var e = 2;
            if (currency == "CREDITS") {
                e = 0
            }
            $(d.column(1).footer()).html(Number(c).toFixed(e));
            $(d.column(2).footer()).html(Number(f).toFixed(e));
            $(d.column(3).footer()).html(Number(g).toFixed(e))
        },
        ajax: {
            type: "POST",
            url: a,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            },
            data: function(e) {
                e.supersearch = $(".datefilter").val();
                var c = $("#cashtablepoker").data("dt_params");
                if (c) {
                    $.extend(e, c)
                }
                hideLoading("#pleaseWait")
            }
        }
    })
});
var FromData = null;
var ToData = null;
$("#cashtablepoker").data("dt_params", {
    from: FromData,
    to: ToData,
    param: 1
});
$(document).ready(function() {
    $("#setdataPoker").click(function() {
        showLoading("#pleaseWait");
        var b = $("#date_start").val();
        var a = $("#date_end").val();
        $("#cashtablepoker").data("dt_params", {
            from: b,
            to: a,
            param: 1
        });
        $("#cashtablepoker").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#todayCashPokerRake").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepokerrake").data("dt_params", {
            from: 1,
            to: 1,
            param: "today"
        });
        $("#cashtablepokerrake").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#yestardayCashPokerRake").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepokerrake").data("dt_params", {
            from: 1,
            to: 1,
            param: "yestardayCash"
        });
        $("#cashtablepokerrake").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#thisWeekCashPokerRake").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepokerrake").data("dt_params", {
            from: 1,
            to: 1,
            param: "thisWeekCash"
        });
        $("#cashtablepokerrake").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#thisMonthCashPokerRake").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepokerrake").data("dt_params", {
            from: 1,
            to: 1,
            param: "thisMonthCash"
        });
        $("#cashtablepokerrake").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#lastMonthCashPokerRake").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepokerrake").data("dt_params", {
            from: 1,
            to: 1,
            param: "lastMonthCash"
        });
        $("#cashtablepokerrake").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#thisyearCashPokerRake").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepokerrake").data("dt_params", {
            from: 1,
            to: 1,
            param: "thisyearCash"
        });
        $("#cashtablepokerrake").DataTable().draw()
    })
});
$(document).ready(function() {
    var a = $("#cashUrlRake").attr("action");
    var b = $("#cashtablepokerrake").DataTable({
        dom: "lfrtBip,",
        searching: false,
        lengthChange: false,
        bLengthChange: false,
        bPaginate: false,
        bFilter: false,
        autoWidth: false,
        bSortable: false,
        buttons: ["copy", "csv", "excel", "pdf", "print", "colvis"],
        columns: [{
            data: "email",
            className: "text-center",
            searchable: false
        }, {
            data: "totalRake",
            className: "text-center",
            searchable: false
        }, {
            data: "totalBet",
            className: "text-center",
            searchable: false
        }, {
            data: "totalTourn",
            className: "text-center",
            searchable: false
        }, {
            data: "totalFin",
            className: "text-center",
            searchable: false
        }],
        language: {
            decimal: "",
            emptyTable: emptyTable,
            info: info,
            infoEmpty: infoEmpty,
            infoFiltered: infoFiltered,
            infoPostFix: "",
            thousands: ",",
            lengthMenu: lengthMenu,
            loadingRecords: loadingRecords,
            processing: processing,
            search: vsearch,
            zeroRecords: zeroRecords,
            paginate: {
                first: first,
                last: vlast,
                next: vnext,
                previous: previous
            },
            aria: {
                sortAscending: ": " + sortAscending,
                sortDescending: ": " + sortDescending
            }
        },
        pagingType: "full_numbers",
        processing: true,
        serverSide: true,
        responsive: true,
        iDisplayLength: 500,
        drawCallback: function() {
            var e = this.api();
            var h = null;
            var d = e.column(1).data().sum();
            var g = e.column(2).data().sum();
            var h = e.column(3).data().sum();
            var c = e.column(4).data().sum();
            var f = 2;
            if (currency == "CREDITS") {
                f = 0
            }
            $(e.column(1).footer()).html(Number(d).toFixed(f));
            $(e.column(2).footer()).html(Number(g).toFixed(f));
            $(e.column(3).footer()).html(Number(h).toFixed(f));
            $(e.column(4).footer()).html(Number(c).toFixed(f))
        },
        ajax: {
            type: "POST",
            url: a,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            },
            data: function(e) {
                e.supersearch = $(".datefilter").val();
                var c = $("#cashtablepokerrake").data("dt_params");
                if (c) {
                    $.extend(e, c)
                }
                hideLoading("#pleaseWait")
            }
        }
    })
});
var FromData = null;
var ToData = null;
$("#cashtablepokerrake").data("dt_params", {
    from: FromData,
    to: ToData,
    param: 1
});
$(document).ready(function() {
    $("#setdataPokerRake").click(function() {
        showLoading("#pleaseWait");
        var b = $("#date_start").val();
        var a = $("#date_end").val();
        $("#cashtablepokerrake").data("dt_params", {
            from: b,
            to: a,
            param: 1
        });
        $("#cashtablepokerrake").DataTable().draw()
    })
});
$("#cashtablepokerrake2").data("dt_params", {
    from: FromData,
    to: ToData,
    param: 1
});
$(document).ready(function() {
    $("#setdataPokerRake2").click(function() {
        showLoading("#pleaseWait");
        console.log("a");
        var b = $("#date_start").val();
        var a = $("#date_end").val();
        $("#cashtablepokerrake2").data("dt_params", {
            from: b,
            to: a,
            param: 1
        });
        $("#cashtablepokerrake2").DataTable().draw()
    })
});
$(function() {
    $('[data-toggle="tooltip"]').tooltip()
});
var isMobile = false;
if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0, 4))) {
    isMobile = true
}
var lastScrollTop = 0;
$(".mainTable").scroll(function(b) {
    if (isMobile) {
        var a = $(this).scrollTop();
        if (a > lastScrollTop) {
            $("#footer").hide()
        } else {
            $("#footer").show()
        }
        lastScrollTop = a
    }
});
$(document).ready(function() {
    var a = $("#cashUrlRake").attr("action");
    var b = $("#cashtablepokerrake2").DataTable({
        dom: "lfrtBip,",
        searching: false,
        lengthChange: false,
        bLengthChange: false,
        bPaginate: false,
        bFilter: false,
        autoWidth: false,
        bSortable: false,
        buttons: ["copy", "csv", "excel", "pdf", "print", "colvis"],
        columns: [{
            data: "email",
            className: "text-center",
            searchable: false
        }, {
            data: "bet",
            className: "text-center",
            searchable: false
        }, {
            data: "win",
            className: "text-center",
            searchable: false
        }, {
            data: "net",
            className: "text-center",
            searchable: false
        }, {
            data: "rake",
            className: "text-center",
            searchable: false
        }, {
            data: "ger_tournament_bet",
            className: "text-center",
            searchable: false
        }, {
            data: "ger_tournament_win",
            className: "text-center",
            searchable: false
        }, {
            data: "tournet",
            className: "text-center",
            searchable: false
        }, {
            data: "ger_tournament_rake",
            className: "text-center",
            searchable: false
        }],
        language: {
            decimal: "",
            emptyTable: emptyTable,
            info: info,
            infoEmpty: infoEmpty,
            infoFiltered: infoFiltered,
            infoPostFix: "",
            thousands: ",",
            lengthMenu: lengthMenu,
            loadingRecords: loadingRecords,
            processing: processing,
            search: vsearch,
            zeroRecords: zeroRecords,
            paginate: {
                first: first,
                last: vlast,
                next: vnext,
                previous: previous
            },
            aria: {
                sortAscending: ": " + sortAscending,
                sortDescending: ": " + sortDescending
            }
        },
        pagingType: "full_numbers",
        processing: true,
        serverSide: true,
        responsive: true,
        iDisplayLength: 500,
        drawCallback: function() {
            var i = this.api();
            var e = null;
            var k = i.column(1).data().sum();
            var j = i.column(2).data().sum();
            var e = i.column(3).data().sum();
            var h = i.column(4).data().sum();
            var g = i.column(5).data().sum();
            var f = i.column(6).data().sum();
            var d = i.column(7).data().sum();
            var c = i.column(8).data().sum();
            var l = 2;
            if (currency == "CREDITS") {
                l = 0
            }
            $(i.column(1).footer()).html(Number(k).toFixed(l));
            $(i.column(2).footer()).html(Number(j).toFixed(l));
            $(i.column(3).footer()).html(Number(e).toFixed(l));
            $(i.column(4).footer()).html(Number(h).toFixed(l));
            $(i.column(5).footer()).html(Number(g).toFixed(l));
            $(i.column(6).footer()).html(Number(f).toFixed(l));
            $(i.column(7).footer()).html(Number(d).toFixed(l));
            $(i.column(8).footer()).html(Number(c).toFixed(l))
        },
        ajax: {
            type: "POST",
            url: a,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            },
            data: function(e) {
                e.supersearch = $(".datefilter").val();
                var c = $("#cashtablepokerrake2").data("dt_params");
                if (c) {
                    $.extend(e, c)
                }
                hideLoading("#pleaseWait")
            }
        }
    })
});
$(document).ready(function() {
    $("#todayCashPokerRake2").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepokerrake2").data("dt_params", {
            from: 1,
            to: 1,
            param: "today"
        });
        $("#cashtablepokerrake2").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#yestardayCashPokerRake2").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepokerrake2").data("dt_params", {
            from: 1,
            to: 1,
            param: "yestardayCash"
        });
        $("#cashtablepokerrake2").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#thisWeekCashPokerRake2").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepokerrake2").data("dt_params", {
            from: 1,
            to: 1,
            param: "thisWeekCash"
        });
        $("#cashtablepokerrake2").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#thisMonthCashPokerRake2").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepokerrake2").data("dt_params", {
            from: 1,
            to: 1,
            param: "thisMonthCash"
        });
        $("#cashtablepokerrake2").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#lastMonthCashPokerRake2").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepokerrake2").data("dt_params", {
            from: 1,
            to: 1,
            param: "lastMonthCash"
        });
        $("#cashtablepokerrake2").DataTable().draw()
    })
});
$(document).ready(function() {
    $("#thisyearCashPokerRake2").click(function() {
        showLoading("#pleaseWait");
        $("#cashtablepokerrake2").data("dt_params", {
            from: 1,
            to: 1,
            param: "thisyearCash"
        });
        $("#cashtablepokerrake2").DataTable().draw()
    })
});
console.log('!!!!!!!!!!')